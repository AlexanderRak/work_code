<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="ua.min.css">
</head>

<body>
  <div class="watch">
    <section class="watch__container__wrap">
      <div class="watch__container">
        <section>
          <div class="watch__slider__wrap gsap__sect">
            <div class="container">
              <div class="watch__slider">
                <div class="watch__slider__item">
                  <video muted loop autoplay playsinline class="lazyload autoplay-video">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/1silver.mp4" type="video/mp4">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/1silver.webm" type="video/webm">
                  </video>
                </div>
                <div class="watch__slider__item">
                  <video muted loop autoplay playsinline class="lazyload autoplay-video">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/1black.mp4" type="video/mp4">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/1black.webm" type="video/webm">
                  </video>
                </div>
                <div class="watch__slider__item">
                  <video muted loop autoplay playsinline class="lazyload autoplay-video">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/1starlight.mp4" type="video/mp4">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/1starlight.webm" type="video/webm">
                  </video>
                </div>
                <div class="watch__slider__item">
                  <video muted loop autoplay playsinline class="lazyload autoplay-video">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/1red.mp4" type="video/mp4">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/1red.webm" type="video/webm">
                  </video>
                </div>
                <div class="watch__slider__item__i">
                  <img src="https://cdn.comfy.ua/media/x/img/2166032/2.png" alt="">
                </div>
                <ul class="watch__slider__list">
                  <li class="watchBtn"></li>
                  <li class="watchBtn"></li>
                  <li class="watchBtn"></li>
                  <li class="watchBtn"></li>
                </ul>
              </div>
              <div class="watch__slider__txt grad">
                <div class="watch__slider__title">
                  Виняткова видимість
                </div>
                Великий незгасаючий дисплей, оточений вузькими рамками, забезпечує виняткову видимість і бездоганне відтворення корисних даних про ваше тренування та стан здоров'я. Зручно друкуйте повідомлення та переміщайтеся по меню пристрою. Прості завдання стають
                справжнім задоволенням.
              </div>
              <ul class="watch__pag">
                <li class="watch__pag__active"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <!-- <li></li> -->
              </ul>
            </div>
          </div>
        </section>

        <section>
          <div class="battery__wrap gsap__sect">
            <div class="container">
              <div class="battery">
                <div class="battery__cont">
                  <div class="battery__img">
                    <img src="https://cdn.comfy.ua/media/x/img/2166032/3new.png" alt="">
                  </div>
                  <div class="battery__icon">
                    <video muted loop autoplay playsinline class="lazyload autoplay-video">
                      <source src="https://cdn.comfy.ua/media/video/apple_watch/2black.mp4" type="video/mp4">
                      <source src="https://cdn.comfy.ua/media/video/apple_watch/2black.webm" type="video/webm">
                    </video>
                  </div>
                  <div class="battery__abs">
                    <img src="https://cdn.comfy.ua/media/x/img/2166032/i1.svg" alt="">
                  </div>
                </div>
              </div>
              <div class="battery__txt grad">
                <div class="battery__title">
                  Потужний акумулятор
                </div>
                <div class="battery__low">
                  Режим низького енергоспоживання дозволяє ще довше насолоджуватися можливостями годинника. Новий акумулятор тримає до 18 годин, а в режимі низького енергоспоживання до 36 годин. Тривалі подорожі без додаткової підзарядки — це легко!
                </div>
              </div>
              <ul class="watch__pag">
                <li></li>
                <li class="watch__pag__active"></li>
                <li></li>
                <li></li>
                <li></li>
                <!-- <li></li> -->
              </ul>
            </div>
          </div>
        </section>

        <section>
          <div class="battery__wrap gsap__sect">
            <div class="container">
              <div class="battery">
                <div class="battery__cont">
                  <div class="battery__img">
                    <video muted loop autoplay playsinline class="lazyload autoplay-video water">
                      <source src="https://cdn.comfy.ua/media/video/apple_watch/3black.mp4" type="video/mp4">
                      <source src="https://cdn.comfy.ua/media/video/apple_watch/3black.webm" type="video/webm">
                    </video>
                  </div>
                  <div class="battery__icon water__icon">
                    <img src="https://cdn.comfy.ua/media/x/img/2166032/4n.png" alt="">
                  </div>
                </div>
              </div>
              <div class="battery__txt grad">
                <div class="battery__title water__title">
                  Захист від води та пилу
                </div>
                <div class="battery__low">
                  Екран, що досягає краю корпусу, гарантує належний захист від будь-яких пошкоджень. Насолоджуйтеся розширеними можливостями годинника, незалежно від навколишніх умов.
                </div>
              </div>
              <ul class="watch__pag">
                <li></li>
                <li></li>
                <li class="watch__pag__active"></li>
                <li></li>
                <li></li>
                <!-- <li></li> -->
              </ul>
            </div>
          </div>
        </section>

        <section>
          <div class="battery__wrap gsap__sect">
            <div class="container">
              <div class="battery">
                <div class="battery__cont">
                  <div class="battery__img emergency__img">
                    <video muted loop autoplay playsinline class="lazyload autoplay-video">
                      <source src="https://cdn.comfy.ua/media/video/apple_watch/4black.mp4" type="video/mp4">
                      <source src="https://cdn.comfy.ua/media/video/apple_watch/4black.webm" type="video/webm">
                    </video>
                  </div>
                  <div class="battery__icon emergency__icon">
                    <img src="https://cdn.comfy.ua/media/x/img/2166032/5.png" alt="">
                  </div>
                </div>
              </div>
              <div class="battery__txt grad">
                <div class="battery__title">
                  Простота керування
                </div>
                <div class="battery__low">
                  Дзвоніть, надсилайте повідомлення, слухайте музику та викликайте допомогу, коли це необхідно. Вбудована навігація, дистанційне керування камерою, миттєва оплата в ApplePay та інші функції завжди під рукою.
                </div>
              </div>
              <ul class="watch__pag">
                <li></li>
                <li></li>
                <li></li>
                <li class="watch__pag__active"></li>
                <li></li>
                <!-- <li></li> -->
              </ul>
            </div>
          </div>
        </section>

        <section>
          <div class="battery__wrap gsap__sect">
            <div class="container">
              <div class="battery">
                <div class="battery__cont">
                  <div class="battery__img">
                    <video muted loop autoplay playsinline class="lazyload autoplay-video">
                      <source src="https://cdn.comfy.ua/media/video/apple_watch/5black.mp4" type="video/mp4">
                      <source src="https://cdn.comfy.ua/media/video/apple_watch/5.webm" type="video/webm">
                    </video>
                  </div>
                  <div class="battery__icon sencor__icon">
                    <video muted loop autoplay playsinline class="lazyload autoplay-video sencor">
                      <source src="https://cdn.comfy.ua/media/video/apple_watch/7black.mp4" type="video/mp4">
                    </video>
                  </div>
                </div>
              </div>
              <div class="battery__txt sencor__txt grad">
                <div>
                  <div class="battery__title">
                    Актуальна інформація про здоров’я
                  </div>
                  <div class="battery__low">
                    Інноваційний датчик Apple Watch Series 8 відстежує температуру під час сну і на основі цього здатний підготувати повний аналіз даних про жіноче здоров’я.
                  </div>
                </div>
              </div>
              <ul class="watch__pag">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li class="watch__pag__active"></li>
                <!-- <li></li> -->
              </ul>
            </div>
          </div>
        </section>

        <!-- <section>
          <div class="protect__wrap">
            <div class="protect">
              <div class="protect__ring">
                <div class="protect__video">
                  <video muted loop autoplay playsinline class="lazyload autoplay-video">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/8black.webm" type="video/webm">
                    <source src="https://cdn.comfy.ua/media/video/apple_watch/8black.mp4" type="video/mp4">
                  </video>
                </div>
              </div>
              <div class="protect__txt grad">
                <div class="protect__title">
                  Міцний алюмінієвий корпус
                </div>
                <div class="protect__low">
                  Довговічне переднє скло, яке використовується у виробництві, в поєднанні з міцни корпусом із повністю переробленого алюмінію забезпечують підвищену стійкість до тріщин. А ступінь захисту від пилу IP6X і води WR50 дозволять використовувати пристрій в будь-яких умовах з турботою про навколишнє середовище.
                </div>
              </div>
              <ul class="watch__pag">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li class="watch__pag__active"></li>
              </ul>
              <div class="protect__bg">
                <video muted loop autoplay playsinline class="lazyload autoplay-video">
                  <source src="https://cdn.comfy.ua/media/video/apple_watch/bg.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </section> -->
      </div>
    </section>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js" integrity="sha512-gmwBmiTVER57N3jYS3LinA9eb8aHrJua5iQD7yqYCKa5x6Jjc7VDVaEA0je0Lu0bP9j7tEjV3+1qUm6loO99Kw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js" integrity="sha512-tHvUcUQYi35zApvAa5TNR3fNhBQkVtkmWKfacnpxmix4/VTGz1lGjIVyLMp7gLgAvg+aKJjnVKokXJNS5GZ+/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css">
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.10/SmoothScroll.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tweezer.js@1.5.0/dist/tweezer.min.js"></script>

  <script>
    $(document).on('general-tab-open', () => {
      document.querySelectorAll('.autoplay-video').forEach((element) => {
        element.play();
      })
    })
  </script>

  <!-- slider for change color -->

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      let wSlides = document.querySelectorAll('.watch__slider__item');
      const wBtn = document.querySelectorAll('.watchBtn');

      function hideWSlides() {
        wSlides.forEach(element => {
          element.style.cssText = 'display: none';
        });
        wBtn.forEach(element => {
          element.classList.remove('__active')
        });
      }

      function showWSlides(i = 0) {
        wSlides[i].style.cssText = 'display: flex';
        wBtn[i].classList.add('__active')
      }

      hideWSlides();
      showWSlides(1);

      wBtn.forEach((element, i) => {
        element.addEventListener('click', () => {
          hideWSlides();
          showWSlides(i);
        });
      });
    });
  </script>

  <script>
    (function ($) {
      $(document).ready(function () {

        const wContainer = document.querySelector('.watch__container');

        if (window.innerWidth > 768) {
          $('.watch__container').slick({
            infinite: false,
            speed: 700,
            fade: true,
            prevArrow: false,
            nextArrow: false,
            dots: true,
            cssEase: 'linear',
            mobileFirst: true,
            draggable: false
          });


          let blocked = false;
          let blockTimeout = null;
          let prevDeltaY = 0;

          function pined() {
            $(".watch__container").on('mousewheel DOMMouseScroll wheel', (function (e) {
              e.preventDefault();
              let deltaY = e.originalEvent.deltaY;

              clearTimeout(blockTimeout);
              blockTimeout = setTimeout(function () {
                blocked = false;
              }, 50);


              if (deltaY > 0 && deltaY > prevDeltaY || deltaY < 0 && deltaY < prevDeltaY || !blocked) {
                blocked = true;
                prevDeltaY = deltaY;

                if (deltaY > 0) {
                  $(this).slick('slickNext');
                } else {
                  $(this).slick('slickPrev');
                }
                // return false;
              }

            }));
          }

          pined();

          function unPine() {
            $(".watch__container").off('mousewheel DOMMouseScroll wheel');
          }

          pined();
          $('.watch__container').on('afterChange', function (event, slick, currentSlide) {
            if (slick.$slides.length - 1 == currentSlide) {
              $(window).bind('mousewheel DOMMouseScroll wheel', function (event) {
                if (event.originalEvent.wheelDelta >= 0) {
                  pined();
                }
                else {
                  unPine();
                }
              });
            }
          });

          $('.watch__container').on('beforeChange', function (event, slick, currentSlide) {
            // if (slick.$slides.length - 5 == currentSlide) {
            if (slick.$slides.length - 4 == currentSlide) {
              $(window).bind('mousewheel DOMMouseScroll wheel', function (event) {
                if (event.originalEvent.wheelDelta >= 0) {
                  unPine();
                }
                else {
                  pined();
                }
              });
            }
          });
        }

      });
    })(jQuery)
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // var keys = { 37: 1, 38: 1, 39: 1, 40: 1, 41: 1, 42: 1 };
      var keys = { 37: 1, 38: 1, 39: 1, 40: 1, 41: 1};

      function preventDefault(e) {
        e.preventDefault();
      }

      function preventDefaultForScrollKeys(e) {
        if (keys[e.keyCode]) {
          preventDefault(e);
          return false;
        }
      }

      // modern Chrome requires { passive: false } when adding event
      var supportsPassive = false;
      try {
        window.addEventListener("test", null, Object.defineProperty({}, 'passive', {
          get: function () { supportsPassive = true; }
        }));
      } catch (e) { }

      var wheelOpt = supportsPassive ? { passive: false } : false;
      var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';

      // call this to Disable
      function disableScroll() {
        window.addEventListener('DOMMouseScroll', preventDefault, false); // older FF
        window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop
        window.addEventListener('touchmove', preventDefault, wheelOpt); // mobile
        window.addEventListener('keydown', preventDefaultForScrollKeys, false);
      }

      // call this to Enable
      function enableScroll() {
        window.removeEventListener('DOMMouseScroll', preventDefault, false);
        window.removeEventListener(wheelEvent, preventDefault, wheelOpt);
        window.removeEventListener('touchmove', preventDefault, wheelOpt);
        window.removeEventListener('keydown', preventDefaultForScrollKeys, false);
      }

      if (window.screen.width > 768) {
        SmoothScroll({ stepSize: 50 });
        gsap.registerPlugin(ScrollTrigger);

        const blocks = document.querySelector('.watch__container__wrap');
        let comfyBlockAnim = gsap.timeline({
          scrollTrigger: {
            trigger: blocks,
            // start: "top center",
            // end: "bottom center",
            // start: "center-=25% bottom",
            // end: "bottom-=10% center",
            start: "10% 85%",
            end: "85% 10%",
            id: "scroll",
            // markers: true,
            scrub: true,
            onEnterBack: () => {
              if (!this.scrollByClick) {
                disableScroll()

                $('html, body').stop()

                new Tweezer({
                  start: window.scrollY,
                  end: $(blocks).offset().top + 1
                })
                  .on('tick', v => { window.scrollTo(0, v); disableScroll() })
                  .begin()
                  .on('done', () => {
                    enableScroll()
                  })
              }

            },
            onEnter: () => {
              if (!this.scrollByClick) {
                disableScroll()

                $('html, body').stop()

                new Tweezer({
                  start: window.scrollY,
                  end: $(blocks).offset().top + 1
                })
                  .on('tick', v => { window.scrollTo(0, v); disableScroll() })
                  .begin()
                  .on('done', () => {
                    enableScroll()
                  });
              }
            }
          }
        });

      } else if (window.screen.width < 600) {
        SmoothScroll({ stepSize: 50 });
        gsap.registerPlugin(ScrollTrigger);

        const blocks = gsap.utils.toArray('.watch__container section');
        blocks.forEach(block => {
          let comfyBlockAnim = gsap.timeline({
            scrollTrigger: {
              trigger: block,
              start: "8% 92%",
              scrub: true,
              onEnterBack: () => {
                if (!this.scrollByClick) {
                  disableScroll()

                  $('html, body').stop()

                  new Tweezer({
                    start: window.scrollY,
                    end: $(block).offset().top + 1
                  })
                    .on('tick', v => { window.scrollTo(0, v); disableScroll() })
                    .begin()
                    .on('done', () => {
                      enableScroll()
                    })
                }

              },
              onEnter: () => {
                if (!this.scrollByClick) {
                  disableScroll()

                  $('html, body').stop()

                  new Tweezer({
                    start: window.scrollY,
                    end: $(block).offset().top + 1
                  })
                    .on('tick', v => { window.scrollTo(0, v); disableScroll() })
                    .begin()
                    .on('done', () => {
                      enableScroll()
                    });
                }
              }
            }
          });
        });
      }

      setTimeout(() => window.dispatchEvent(new Event('resize')), 100);

    });
  </script>
</body>

</html>