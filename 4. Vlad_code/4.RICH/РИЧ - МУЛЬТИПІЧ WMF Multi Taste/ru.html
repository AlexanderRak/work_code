<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>
      <link rel="stylesheet" href="style.min.css" />
   </head>
   <body>
      <div class="wmf">
         <section>
            <div class="design">
               <div class="container">
                  <div class="design__abs">
                     <div class="wmf__title">Благодаря премиальному дизайну мы вывели продукт на новый уровень</div>
                  </div>
                  <div class="design__grid">
                     <div class="design__square">
                        <img src="https://cdn.comfy.ua/media/x/img4/2960314/4.png" alt="" />
                     </div>
                     <div>
                        <video muted="true" autoplay loop playsinline="true" class="wmf__scroll__video" src="https://cdn.comfy.ua/media/x/img4/2960314/video/6.mp4"></video>
                     </div>
                     <div>
                        <video muted="true" autoplay loop playsinline="true" class="wmf__scroll__video" src="https://cdn.comfy.ua/media/x/img4/2960314/video/7.mp4"></video>
                     </div>
                     <div>
                        <img src="https://cdn.comfy.ua/media/x/img4/2960314/7.png" alt="" />
                     </div>
                  </div>
               </div>
            </div>
         </section>

         <section>
            <div class="materials">
               <div class="container">
                  <div class="materials__cont c-white">
                     <div class="wmf__title">лучшие материалы</div>
                     <div class="wmf__txt">
                        (Скло, Cromargan®) <br />
                        Платиновый уровень (дизайна)
                     </div>
                  </div>
               </div>
               <video muted="true" autoplay loop playsinline="true" class="autoplay-video lazyload js-spdsize" src="https://cdn.comfy.ua/media/x/img4/2960314/video/2.mp4"></video>
            </div>
         </section>

         <section>
            <div class="sensor">
               <div class="container">
                  <div class="sensor__cont">
                     <div class="wmf__title">Цифровая сенсорная панель</div>
                     <div class="sensor__abs">
                        <div class="wmf__title"><strong>8</strong> предустановленных автоматических программ</div>
                        <ul>
                           <li>Проверенная техническая платформа</li>
                           <li>Функции и программы</li>
                        </ul>
                     </div>
                  </div>
               </div>
               <video muted="true" autoplay loop playsinline="true" class="autoplay-video lazyload js-spdsize" src="https://cdn.comfy.ua/media/x/img4/2960314/video/3.mp4"></video>
            </div>
         </section>

         <section>
            <div class="taste">
               <div class="container">
                  <div class="taste__row">
                     <div class="taste__i">
                        <img src="https://cdn.comfy.ua/media/x/img4/2960314/icons.png" alt="" />
                     </div>
                     <div class="taste__cont">
                        <div class="wmf__title">Контролируемая циркуляция горячего воздуха также может быть использована для сушки ингредиентов</div>
                        <div class="wmf__txt__two">Сохраняя при этом все их питательные вещества и вкус, идеально подходит для приготовления полезных домашних закусок, таких как мюсли, смесь из сухофруктов и орехов и т.д.</div>
                     </div>
                  </div>
               </div>
               <div class="taste__img">
                  <picture>
                     <source srcset="https://cdn.comfy.ua/media/x/img4/2960314/bg1-mob.jpg" media="(max-width: 567px)" />
                     <img src="https://cdn.comfy.ua/media/x/img4/2960314/bg1.jpg" alt="" />
                  </picture>
               </div>
               <div class="container">
                  <div class="taste__cont__two">
                     <div class="wmf__title">Никаких компромиссов по вкусу*</div>
                     <div class="wmf__txt__two c-white">Выйдите за рамки жарки и идеально готовьте любимые блюда на гриле с помощью литой алюминиевой решетки. Она даже оставляет подлинные следы гриля.</div>
                  </div>
               </div>
            </div>
         </section>

         <section>
            <div class="food">
               <!-- <div class="container"> -->
               <div class="food__wrap">
                  <div class="food__row food__out">
                     <div class="food__img">
                        <picture>
                           <source srcset="https://cdn.comfy.ua/media/x/img4/2960314/8m.png" media="(max-width: 567px)" />
                           <img src="https://cdn.comfy.ua/media/x/img4/2960314/8.png" alt="" />
                        </picture>
                     </div>
                     <div class="food__cont">
                        <div class="container">
                           <div class="wmf__title">
                              Каким бы ни было блюдо, для <br />
                              него существует идеальная <br />
                              программа:
                           </div>
                           <div class="food__flex">
                              <div class="wmf__title"><strong>8</strong></div>
                              <div class="wmf__txt__two">Предустановленные программы идеально подходят для приготовления овощей, куриных крылышек, картофеля фри и многое другое.</div>
                           </div>
                           <div class="wmf__title">
                              темп. настройка <br />
                              от 80°C до 200°C
                           </div>
                           <div class="food__col">
                              <div class="wmf__txt__two">Таймер на 60 минут</div>
                              <div class="wmf__txt__two">Режим дегидрации</div>
                              <div class="wmf__txt__two">Эффективная система воздушного потока</div>
                              <div class="wmf__txt__two">Литая под давлением алюминиевая пластина гриля</div>
                           </div>
                        </div>
                     </div>
                  </div>

                  <div class="food__row food__row__two">
                     <div class="food__img">
                        <picture>
                           <source srcset="https://cdn.comfy.ua/media/x/img4/2960314/9m.png" media="(max-width: 567px)" />
                           <img src="https://cdn.comfy.ua/media/x/img4/2960314/9.png" alt="" />
                        </picture>
                     </div>
                     <div class="food__cont">
                        <div class="container">
                           <div class="wmf__title">Антипригарное покрытие</div>
                           <div class="food__flex">
                              <div class="wmf__txt__two">Предотвращает прилипание пищи и остатков, и его можно легко протереть теплой водой с мылом.</div>
                           </div>
                           <div class="wmf__txt__two">Отлита под давлением</div>
                           <div class="wmf__title">алюминиевая пластина гриля</div>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- </div> -->
            </div>
         </section>

         <section>
            <div class="grill">
               <div class="container">
                  <div class="grill__abs">
                     <div class="wmf__title">Совершенство гриля*</div>
                  </div>
               </div>
               <div class="grill__img">
                  <img src="https://cdn.comfy.ua/media/x/img4/2960314/1.jpg" alt="" />
               </div>
            </div>
         </section>

         <section>
            <div class="vegs">
               <div class="container">
                  <div class="vegs__cont">
                     <div class="wmf__title">Уменьшение содержания жира, но сохранение вкуса</div>
                     <div class="wmf__txt">Технология циркуляции горячего воздуха от WMF обеспечивает невероятно вкусное жареное без жира или растительного масла.</div>
                  </div>
               </div>
               <video muted="true" autoplay loop playsinline="true" class="autoplay-video lazyload js-spdsize" src="https://cdn.comfy.ua/media/x/img4/2960314/video/4.mp4"></video>
            </div>
         </section>

         <section>
            <div class="variety">
               <div class="container">
                  <div class="variety__abs">
                     <div class="wmf__title c-black">
                        Максимальное <br />
                        разнообразие
                     </div>
                  </div>
               </div>
               <video muted="true" autoplay loop playsinline="true" class="autoplay-video lazyload js-spdsize" src="https://cdn.comfy.ua/media/x/img4/2960314/video/5.mp4"></video>
            </div>
         </section>

         <section>
            <div class="complete">
               <div class="container">
                  <div class="wmf__title">Габариты и комплектация</div>
                  <div class="complete__row">
                     <div class="complete__cal">
                        <div class="wmf__title">
                           алюминиевая <br />
                           пластина гриля
                        </div>
                        <div class="complete__img">
                           <img src="https://cdn.comfy.ua/media/x/img4/2960314/2.png" alt="" />
                        </div>
                     </div>
                     <div class="complete__cal">
                        <div class="wmf__title">
                           <i>
                              Объем <br />
                              4,2 л (~ 0,8 кг)
                           </i>
                        </div>
                        <div class="complete__img">
                           <img src="https://cdn.comfy.ua/media/x/img4/2960314/3.png" alt="" />
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </section>
      </div>

      <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.2/gsap.min.js" integrity="sha512-gsEItzcNkWxfxHjr4BaEZAd9YuRWYjxnj7c/yukcZ0/nWehUb5TjJNyyv1ApCU2DFH/qgw+stFZHPOKnoQnIuQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.2/ScrollTrigger.min.js" integrity="sha512-ko44b+LlYXwGZI6Gey6Tgrhew9JEPdSE6m7FqDyGGPDW+dDOjsCElEtiUIRRtCXRNHwKheBCnHCQSMdUz/pgkw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

      <script>
         $(document).on("general-tab-open", () => {
            document.querySelectorAll(".autoplay-video").forEach((element) => {
               element.play();
            });
         });
      </script>

      <script>
         document.addEventListener("DOMContentLoaded", () => {
            let videos = document.querySelectorAll(".wmf__scroll__video");
            const ifHaveClass = document.querySelector(".bc-description__content");
            const mainParent = document.querySelector(".wmf");

            gsap.registerPlugin(ScrollTrigger);
            let tl = gsap.timeline();

            let startValueVideo = "top+=10% center";

            if (window.matchMedia("(max-width: 1441px)").matches) {
               startValueVideo = "top+=30% center";
            }

            videos.forEach((video) => {
               video.pause();
               video.currentTime = 0;

               video.addEventListener("loadedmetadata", () => {
                  tl.to(video, {currentTime: video.duration - 0.1}, 0);
                  if (window.matchMedia("(min-width: 1024px)").matches) {
                     ScrollTrigger.create({
                        animation: tl,
                        trigger: ".design",
                        scrub: 2,
                        start: startValueVideo,
                        end: "bottom-=10% center",
                        // markers: true,
                     });
                  } else {
                     video.play();
                     video.classList.add("autoplay-video");
                  }
               });
            });

            // if (ifHaveClass && mainParent) {
            // const observer = new MutationObserver((mutationsList) => {
            // mutationsList.forEach((mutation) => {
            // if (mutation.type === "attributes" && mutation.attributeName === "class") {
            // if (ifHaveClass.classList.contains("bc-description__content--expanded")) {
            //fade in fade out for section food

            let startValue = "top+=10% top";

            if (window.matchMedia("(min-width: 1024px)").matches) {
               let fadeInOut = gsap.timeline();

               if (window.matchMedia("(max-width: 1341px)").matches) {
                  startValue = "top top";
               }

               if (window.matchMedia("(max-width: 1024px)").matches) {
                  startValue = "top-=20% top";
               }

               fadeInOut.to(".food__out", {opacity: 1});
               fadeInOut.to(".food__out", {opacity: 0});
               fadeInOut.to(".food__row__two", {opacity: 1});

               ScrollTrigger.create({
                  animation: fadeInOut,
                  trigger: ".food__row",
                  start: startValue,
                  end: "bottom",
                  pin: ".food__row",
                  pinSpacing: false,
                  scrub: true,
               });
            }
            // }
            // }
            // });
            // });

            // observer.observe(ifHaveClass, {attributes: true});
            // }

            document.addEventListener("lazyloaded", function (e) {
               ScrollTrigger.refresh();
            });
         });
      </script>
   </body>
</html>
